## Лабораторная работа #1. Персистентные и функциональные структуры данных.
### Базовая задача
Необходимо реализовать бинарное (не сбалансированное) дерево поиска для хранения записей о пользователях.
В качестве ключа использовать поле `key`.
Реализовать операции поиска, вставки, удаления пользователя, обхода дерева в порядке возрастания ключа и операции поворота поддеревьев.
Необходимо использовать `path-copying` технику для реализации функциональной структуры данных. 
```c++
node {
    node *l
    node *r
    user d
}

user {
    int key
    ... some data ...
}
```

Пустому дереву соответствует `NULL`.
При вставке пользователя с ключом, который уже имеется в дереве, необходимо заменить пользователя.
При попытке удалить пользователя с несуществующим значением ключа возвращать неизменённое дерево.
При попытке найти пользователя с ключом, отсутствующим в дереве, возвращать `NULL`.

Правый и левый поворот дерева (поддерева):
```{verbatim}
    A       rotate_right(A)      B
   / \    ----------------->    / \
  B   c                        a   A
 / \        rotate_left(B)        / \
a   b     <-----------------     b   c
```

### Задача #1 на выбор на повышенный балл (функциональная реалтайм очередь на 6 стеках)[^1]

[^1]: [R. Hood, R. Melville. Real-time queue operations in pure LISP. Inform. Process. Let. 1981. 13(2). P. 50-54.](https://doi.org/10.1016/0020-0190(81)90030-2)

Необходимо реализовать функциональную очередь для хранения целых чисел с временем выполнения каждой операции `O(1)` в худшем случае.
Должны быть реализованы функции создания пустой очереди, операции добавления, удаления и просмотра головного элемента.
Каждая из функций принимает на вход структуру `queue_HM`, поля которой необходимо самим определить (указатели на 6 стеков и вспомогательные переменные).

### Задача #2 на выбор на повышенный балл (частично персистентный односвязный список)[^2]

[^2]: [J. Driscoll, N. Sarnak, D. Sleator, R. Tarjan. Making data structures persistent. J. Comput. Sys. Sci. 38(1). 1989. P. 86-124](https://doi.org/10.1016/0022-0000(89)90034-2)

Необходимо реализовать частично персистентный односвязный список для хранения целых чисел и функции для работы с ней.
Должна быть реализованы функция инициализации структуры данных (содержит пустой список версии `0`), операции добавления нового узла в список в заданной позиции, удаления узла и итерирования по списку.
Предполагается, что все запросы модификации увеличивают версию списка на `1`.
Гарантируется, что информационные запросы обращаются к существующей версии списка и обращений по индексу за пределы списка нет.
Для реализации необходимо использовать `node-copying` подход, каждый толстый узел может содержать не более одного изменения в списке правок.
Список может содержать правку как числа хранящегося в узле списка, так и указателя.